<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Python VS Wechat 可以这么玩]]></title>
    <url>%2F2017%2F10%2F19%2Fpython-weichat%2F</url>
    <content type="text"><![CDATA[itchat最近研究了一些微信的玩法，我们可以通过网页版的微信微信网页版，扫码登录后去抓包爬取信息，还可以post去发送信息。 然后发现了itchat这个开源项目，作者是@LittleCoder，已经把微信的接口完成了，大大的方便了我们对微信的挖掘，以下的功能也通过itchat来实现。 安装itchat这个库 pip install itchat 先来段简单的试用，实现微信的登录，运行下面代码会生成一个二维码，扫码之后手机端确认登录，就会发送一条信息给‘filehelper’，这个filehelper就是微信上的文件传输助手。 123456import itchat# 登录itchat.login()# 发送消息itchat.send(u'你好', 'filehelper') 除了登录和发送消息我们还可以这么来玩，往下走～ 1. 微信好友男女比例想统计下自己微信里好友的性别比例，当然也是很简单，先获取好友列表，统计列表里性别计数 1234567891011121314151617181920212223242526272829import itchat # 先登录 itchat.login() # 获取好友列表 friends = itchat.get_friends(update=True)[0:] # 初始化计数器，有男有女，当然，有些人是不填的 male = female = other = 0 # 遍历这个列表，列表里第一位是自己，所以从"自己"之后开始计算 # 1表示男性，2女性 for i in friends[1:]: sex = i["Sex"] if sex == 1: male += 1 elif sex == 2: female += 1 else: other += 1 # 总数算上，好计算比例啊～ total = len(friends[1:]) # 好了，打印结果 print u"男性好友：%.2f%%" % (float(male) / total * 100) print u"女性好友：%.2f%%" % (float(female) / total * 100) print u"其他：%.2f%%" % (float(other) / total * 100) 好看看结果： （好吧，暴露了我男性友人较多的真相～～） 好像不够直观，有兴趣的朋友可以加上可视化的展示，我这里用基于python的Echarts（有机会再细讲） 先安装了 1pip install echarts-python 展示比例一般使用百分比圆饼表吧 12345678910111213# 使用echarts，加上这段 from echarts import Echart, Legend, Pie chart = Echart(u'%s的微信好友性别比例' % (friends[0]['NickName']), 'from WeChat') chart.use(Pie('WeChat', [&#123;'value': male, 'name': u'男性 %.2f%%' % (float(male) / total * 100)&#125;, &#123;'value': female, 'name': u'女性 %.2f%%' % (float(female) / total * 100)&#125;, &#123;'value': other, 'name': u'其他 %.2f%%' % (float(other) / total * 100)&#125;], radius=["50%", "70%"])) chart.use(Legend(["male", "female", "other"])) del chart.json["xAxis"] del chart.json["yAxis"] chart.plot() 登登登登～ 2. 好友个性签名词云获取好友列表的时候，返回的json信息中还看到了有个性签名的信息，脑洞一开，把大家的个性签名都抓下来，看看高频词语，还做了个词云。 123456789101112# coding:utf-8import itchat# 先登录itchat.login()# 获取好友列表friends = itchat.get_friends(update=True)[0:]for i in friends: # 获取个性签名 signature = i["Signature"]print signature 先全部抓取下来打印之后你会发现，有大量的span，class，emoji，emoji1f3c3等的字段，因为个性签名中使用了表情符号，这些字段都是要过滤掉的，写个正则和replace方法过滤掉 1234567for i in friends:# 获取个性签名 signature = i["Signature"].strip().replace("span", "").replace("class", "").replace("emoji", "")# 正则匹配过滤掉emoji表情，例如emoji1f3c3等 rep = re.compile("1f\d.+") signature = rep.sub("", signature) print signature 接来下用jieba分词，然后制作成词云，首先要安装jieba和wordcloud库 12pip install jiebapip install wordcloud 代码 12345678910111213141516171819202122232425262728293031323334# coding:utf-8import itchatimport reitchat.login()friends = itchat.get_friends(update=True)[0:]tList = []for i in friends: signature = i["Signature"].replace(" ", "").replace("span", "").replace("class", "").replace("emoji", "") rep = re.compile("1f\d.+") signature = rep.sub("", signature) tList.append(signature)# 拼接字符串text = "".join(tList)# jieba分词import jiebawordlist_jieba = jieba.cut(text, cut_all=True)wl_space_split = " ".join(wordlist_jieba)# wordcloud词云import matplotlib.pyplot as pltfrom wordcloud import WordCloudimport PIL.Image as Image# 这里要选择字体存放路径，这里是Mac的，win的字体在windows／Fonts中my_wordcloud = WordCloud(background_color="white", max_words=2000, max_font_size=40, random_state=42, font_path='C:/Windows/Fonts/simkai.ttf').generate(wl_space_split)plt.imshow(my_wordcloud)plt.axis("off")plt.show() 运行代码 这。。好像有点丑，根据wordcloud用法，我可以找一张图来生成配色方案，我这里找了一张微信的logo 修改一下代码 123456789101112131415161718192021222324# wordcloud词云import matplotlib.pyplot as pltfrom wordcloud import WordCloud, ImageColorGeneratorimport osimport numpy as npimport PIL.Image as Imaged = os.path.dirname(__file__)alice_coloring = np.array(Image.open(os.path.join(d, "wechat.jpg")))my_wordcloud = WordCloud(background_color="white", max_words=2000, mask=alice_coloring, max_font_size=40, random_state=42, font_path='C:/Windows/Fonts/simkai.ttf')\ .generate(wl_space_split)image_colors = ImageColorGenerator(alice_coloring)plt.imshow(my_wordcloud.recolor(color_func=image_colors))plt.imshow(my_wordcloud)plt.axis("off")plt.show()# 保存图片 并发送到手机my_wordcloud.to_file(os.path.join(d, "wechat_cloud.png"))itchat.send_image("wechat_cloud.png", 'filehelper') 3. 微信自动回复接着来实现一个类似qq上的自动回复，原理就是接收到消息，就发消息回去，同时发一条给文件助手，就可以在文件助手中统一查看消息。 代码很简单，来看看 123456789101112131415161718192021222324#coding=utf8import itchatimport time# 自动回复# 封装好的装饰器，当接收到的消息是Text，即文字消息@itchat.msg_register('Text')def text_reply(msg): # 当消息不是由自己发出的时候 if not msg['FromUserName'] == myUserName: # 发送一条提示给文件助手 itchat.send_msg(u"[%s]收到好友@%s 的信息：%s\n" % (time.strftime("%Y-%m-%d %H:%M:%S", time.localtime(msg['CreateTime'])), msg['User']['NickName'], msg['Text']), 'filehelper') # 回复给好友 return u'[自动回复]您好，我现在有事不在，一会再和您联系。\n已经收到您的的信息：%s\n' % (msg['Text'])if __name__ == '__main__': itchat.auto_login() # 获取自己的UserName myUserName = itchat.get_friends(update=True)[0]["UserName"] itchat.run() 运行后会保持登录状态，开启自动回复模式，手机上查看： 当然，除了文字Text信息，还可以接收图片（表情包算图片），语音，名片，地理位置，分享和类型为Note的信息（就是有人提示类的消息，例如撤回消息），把装饰器写成下面形式即可接受，大家可以试试 1@itchat.msg_register(['Map', 'Card', 'Note', 'Sharing', 'Picture']) 4. 最后除了上面这些，还可以做到管理微信群，自动添加好友，还可以加入机器人回复功能，有时间会补上。 再次感谢itchat作者@LittleCoder Ps本人使用的Python版本 [Python 3.6.1 (v3.6.1:69c0db5, Mar 21 2017, 18:41:36) [MSC v.1900 64 bit (AMD64)] on win32] 在win10环境下坑B的地方使用echart报错1UnicodeDecodeError: &apos;gbk&apos; codec can&apos;t decode byte 0xa4 in position 250: illegal multibyte sequence 参照 =&gt; https://github.com/yufeiminds/echarts-python/issues/14文件位置 =&gt; C:\Users***\AppData\Local\Programs\Python\Python36\Lib\site-packages\echarts__init__ .py]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Wechat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[阿里云Centos搭建lnmp(php7.1+nginx+mysql5.7)]]></title>
    <url>%2F2017%2F09%2F14%2Flnmp%2F</url>
    <content type="text"><![CDATA[工具/原料 阿里云Centos7.x服务器msyql官网文档说明:https://dev.mysql.com/doc/refman/5.7/en/linux-installation-yum-repo.htmlphp71的源及安装说明:https://webtatic.com/packages/php71/ 方法/步骤 1.首先用ssh登陆服务器,查看一下linux的版本信息,并执行yum update更新系统,当然如果你的服务器是按流量收费的话,可以不更新. 2.使用yum安装nginx的最新源 安装最新nginx源 yum localinstall http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm 检查nginx源是否安装成功 yum repolist enabled | grep &quot;nginx*&quot; 3.安装nginx服务器,启动nginx服务器并把nginx服务器加入到开机自启动中,在浏览器中输入服务器的公网ip,检查nginx服务器运行是否正常 安装nginx `yum -y install nginx` 启动nginx `service nginx start` 设置nginx服务器开机自启动 `systemctl enable nginx.service` 检查开机自动是否设置成功 `systemctl list-dependencies | grep nginx` 4.接下来安装5.7.x的mysql, 因为mysql5.7之后可以支持json操作,所以防止以后用到,安装这个版本 安装5.7.x的mysql源 `yum -y localinstall http://dev.mysql.com/get/mysql57-community-release-el7-7.noarch.rpm` 检查mysql源是否安装成功 `yum repolist enabled | grep &quot;mysql.*-community.*&quot;` 5.源设置成功之后, 继续安装mysql 并启动, 加入开机自启动服务,并在命令行验证 安装mysql yum -y install mysql-community-server install mysql-community-devel 启动mysql service mysqld start 检查mysql启动是否正常 service mysqld status 或者 ps -ef | grep mysql 设置mysqld服务开机自启动 systemctl enable mysqld.service 检查mysqld开机自启动是否设置成功 systemctl list-dependencies | grep mysqld 6.查阅mysql的官方文档(文档在上面工具/原料里面有写),查询对应的随机密码, 这里说明一下mysql5.7以后的争强了安全机制, 所以使用yum安装,启动会系统会自动生成一个随机的密码. 查看mysql的随机密码 grep &#39;temporary password&#39; /var/log/mysqld.log 使用查询得到的随机密码在终端登录 mysql -u root -p 更改密码(mysql文档规定,密码必须包括大小写字母数字加特殊符号&gt;8位) ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;你要设置的密码&#39;; 退出mysql客户端,用刚才修改的密码登录确保密码修改成功 mysql -uroot -pxxxxx 7.安装最新的php71的源并,安装对应的扩展支持 安装php71的源(地址在工具/原料里面找) rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm 检查源是否安装成功 yum repolist enabled | grep “webtatic*” 安装php71和对应的扩展(上面工具和原料的地址对扩展都有详细的说明) `yum -y install php71w php71w-fpm` `yum -y install php71w-mbstring php71w-common php71w-gd php71w-mcrypt` `yum -y install php71w-mysql php71w-xml php71w-cli php71w-devel` `yum -y install php71w-pecl-memcached php71w-pecl-redis php71w-opcache` 8.验证php7.1.x和扩展是否安装成功 验证php是否安装成功 php -v 验证对应的扩展是否安装成功 php -m 9.设置php-fpm并检测php-fpm的运行状态 启动php-fpm service php-fpm start 检查启动是否成功 service php-fpm status 设置开机自启动 systemctl enable php-fpm.service 检查开机自启动是否设置成功 systemctl list-dependencies | grep php-fpm ps -ef | grep php-fpm 10.配置php-fpm转发到nginx服务器,处理php脚本程序 进入到nginx的配置目录(因为是使用yum安装所以默认在/etc/xxx下面) cd /etc/nginx &amp;&amp; ls 再进入conf.d中复制default.conf一份为自己网站域名.conf cd conf.d &amp;&amp; cp -p default.conf 域名.conf 重启nginx服务器,查看配置是否成功 service nginx stop &amp;&amp; service nginx start 11.如果上面正常的话,那说明我已经基本大功告成了, 到时候根据自己的网站的要求把第10步的server_name修改为自己的域名,root 修改为网站根目录即可. 在网站根目录下编写一个index.php &lt;?php echo phpinfo();?&gt; 配置快捷键方便操作 cd &amp;&amp; vim .bashrc 快捷键设置 alias todb=&apos;mysql -uroot -pxxxx&apos; alias topub=&apos;cd /usr/share/nginx/html&apos; 注意事项注意nginx的fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;对应文件的权限设置 Ps：default.conf1234567891011121314151617181920212223242526272829303132333435363738394041424344server &#123; listen 80; server_name localhost; #charset koi8-r; #access_log /var/log/nginx/host.access.log main; location / &#123; root /usr/share/nginx/html; index index.php index.html index.htm; &#125; error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html &#123; root /usr/share/nginx/html; &#125; # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ \.php$ &#123; # proxy_pass http://127.0.0.1; #&#125; # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # location ~ \.php$ &#123; root /usr/share/nginx/html; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; &#125; # deny access to .htaccess files, if Apache&apos;s document root # concurs with nginx&apos;s one # location ~ /\.ht &#123; deny all; &#125; &#125; [出处]http://jingyan.baidu.com/article/215817f7a10bfb1eda14238b.html]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>lnmp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2017%2F09%2F12%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
  <entry>
    <title><![CDATA[Docker坑系列]]></title>
    <url>%2F2017%2F09%2F11%2Fdocker%2F</url>
    <content type="text"><![CDATA[1. container无法删除表现为一个运行中的容器，stop和kill没效果，查看/var/log/messages日志如下:12Mar 14 18:24:23 localhost dockerd: time="2017-03-14T18:24:23.005216354+08:00" level=warning msg="container kill failed because of 'container not found' or 'no such process': Cannot kill container 2d3fd2ca48a42a2e4c56cf08abfe120cdc9a07c50a02b025c5e651ad0f8adb3e: rpc error: code = 2 desc = containerd: container not found"Mar 14 18:24:33 localhost dockerd: time="2017-03-14T18:24:33.005531933+08:00" level=info msg="Container 2d3fd2ca48a4 failed to exit within 10 seconds of kill - trying direct SIGKILL" systemctl restart docker重启解决。 2. docker run报错执行sudo docker run -dit --restart=unless-stopped -p 8080:8080 rancher/server时报错：12docker: Error response from daemon: mkdir /var/lib/docker/overlay/22ec70f56f655c703dbfa7731e7596f7adab16688e5f7e0f5f80631e1b6282c1-init/merged/dev/shm: invalid argument.See 'docker run --help'. 看到这篇帖子, 应该是跟storage drivers有关，再参考官方文档, CentOS 推荐devicemapper vi /etc/docker/daemon.json 添加如下内容：123&#123; "storage-driver": "devicemapper"&#125; 重启docker即可。 3. sbt-native-packager push镜像报错123456789101112131415161718192021222324252627282930313233343536373839[0m[[0minfo[0m] [0mStep 1/12 : FROM malfurionpd/docker-oracle-jdk[0m[0m[[0minfo[0m] [0m ---&gt; 33548a8b86f1[0m[0m[[0minfo[0m] [0mStep 2/12 : MAINTAINER bmkp-dev[0m[0m[[0minfo[0m] [0m ---&gt; Running in 3d2d26c181b2[0m[0m[[0minfo[0m] [0m ---&gt; d4e855f088da[0m[0m[[0minfo[0m] [0mRemoving intermediate container 3d2d26c181b2[0m[0m[[0minfo[0m] [0mStep 3/12 : WORKDIR /opt/docker[0m[0m[[0minfo[0m] [0m ---&gt; 90d6e06c2545[0m[0m[[0minfo[0m] [0mRemoving intermediate container cde622bef5e1[0m[0m[[0minfo[0m] [0mStep 4/12 : ADD opt /opt[0m[0m[[0minfo[0m] [0m ---&gt; c215fa9a48fa[0m[0m[[0minfo[0m] [0mRemoving intermediate container 2ac0b4328d83[0m[0m[[0minfo[0m] [0mStep 5/12 : RUN chown -R daemon:daemon .[0m[0m[[0minfo[0m] [0m ---&gt; Running in 0d52ec5c59d6[0m[0m[[0minfo[0m] [0mRemoving intermediate container 0d52ec5c59d6[0m[0m[[31merror[0m] [0mgrpc: the connection is unavailable[0mjava.lang.RuntimeException: Nonzero exit value: 1 at com.typesafe.sbt.packager.docker.DockerPlugin$.publishLocalDocker(DockerPlugin.scala:302) at com.typesafe.sbt.packager.docker.DockerPlugin$$anonfun$projectSettings$19.apply(DockerPlugin.scala:118) at com.typesafe.sbt.packager.docker.DockerPlugin$$anonfun$projectSettings$19.apply(DockerPlugin.scala:116) at scala.Function1$$anonfun$compose$1.apply(Function1.scala:47) at sbt.$tilde$greater$$anonfun$$u2219$1.apply(TypeFunctions.scala:40) at sbt.std.Transform$$anon$4.work(System.scala:63) at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228) at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228) at sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:17) at sbt.Execute.work(Execute.scala:237) at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:228) at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:228) at sbt.ConcurrentRestrictions$$anon$4$$anonfun$1.apply(ConcurrentRestrictions.scala:159) at sbt.CompletionService$$anon$2.call(CompletionService.scala:28) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:745)[0m[[31merror[0m] [0m(docker:[31mpublishLocal[0m) Nonzero exit value: 1[0m[0m[[31merror[0m] [0mTotal time: 8 s, completed Jun 15, 2017 10:50:15 AM[0m 重启大法好！systemctl restart docker.service 搞定！]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redis使用 :实现简单的消息队列]]></title>
    <url>%2F2017%2F08%2F17%2Fredis%2F</url>
    <content type="text"><![CDATA[Redis使用 :实现简单的消息队列Redis提供了两种方式来作消息队列。一个是使用生产者消费模式模式，另外一个方法就是发布订阅者模式。前者会让一个或者多个客户端监听消息队列，一旦消息到达，消费者马上消费，谁先抢到算谁的，如果队列里没有消息，则消费者继续监听。后者也是一个或多个客户端订阅消息频道，只要发布者发布消息，所有订阅者都能收到消息，订阅者都是ping的。 生产消费模式主要使用了redis提供的blpop获取队列数据，如果队列没有数据则阻塞等待，也就是监听。 123456789101112131415161718192021# coding:utf-8"""生产者-消费者模式中的消费者"""import redisclass Task(object): def __init__(self): self.rcon = redis.StrictRedis(host='localhost', db=5) self.queue = 'task:prodcons:queue' def listen_task(self): while True: task = self.rcon.blpop(self.queue, 0)[1] print('Task get', task)if __name__ == '__main__': print('监听任务队列') Task().listen_task() 发布订阅模式使用redis的pubsub功能，订阅者订阅频道，发布者发布消息到频道了，频道就是一个消息队列。 12345678910111213141516171819202122# coding:utf-8"""发布订阅模式中的订阅者"""import redisclass Task(object): def __init__(self): self.rcon = redis.StrictRedis(host='localhost', db=5) self.ps = self.rcon.pubsub() self.ps.subscribe('task:pubsub:channel') def listen_task(self): for i in self.ps.listen(): if i['type'] == 'message': print("Task get", i['data'])if __name__ == '__main__': print('监听任务频道') Task().listen_task() 提供生产者和消息发布者这里使用Flask做一个简单的页面作为生产者和消息发布者123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# coding:utf-8"""提供一个页面作为生产者/消息发布者"""import redisimport randomimport loggingfrom flask import Flask, redirectapp = Flask(__name__)rcon = redis.StrictRedis(host='localhost', db=5)prodcons_queue = 'task:prodcons:queue' #生产者消费者队列名称pubsub_channel = 'task:pubsub:channel' #发布订阅频道名称@app.route('/')def index(): html = """&lt;br&gt;&lt;center&gt;&lt;h3&gt;Redis Message Queue&lt;/h3&gt;&lt;br&gt;&lt;a href="/prodcons"&gt;生产消费者模式&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;a href="/pubsub"&gt;发布订阅者模式&lt;/a&gt;&lt;/center&gt;""" return html#生产者@app.route('/prodcons')def prodcons(): elem = random.randrange(10) rcon.lpush(prodcons_queue, elem) logging.info("lpush &#123;&#125; -- &#123;&#125;".format(prodcons_queue, elem)) return redirect('/')#消息发布者@app.route('/pubsub')def pubsub(): ps = rcon.pubsub() ps.subscribe(pubsub_channel) elem = random.randrange(10) rcon.publish(pubsub_channel, elem) return redirect('/')if __name__ == '__main__': app.run(debug=True) 测试将三短代码分别保存在三个脚本文件中启动. 打开浏览器,会看到如下页面: 点击其中的两个超链接,两个一直在监听的消费者和订阅者会立即得到消息 消费者 订阅者]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>redis</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[markdown]]></title>
    <url>%2F2017%2F08%2F15%2Fmarkdown%2F</url>
    <content type="text"><![CDATA[欢迎使用 Cmd Markdown 编辑阅读器 我们理解您需要更便捷更高效的工具记录思想，整理笔记、知识，并将其中承载的价值传播给他人，Cmd Markdown 是我们给出的答案 —— 我们为记录思想和分享知识提供更专业的工具。 您可以使用 Cmd Markdown： 整理知识，学习笔记 发布日记，杂文，所见所想 撰写发布技术文稿（代码支持） 撰写发布学术论文（LaTeX 公式支持） 除了您现在看到的这个 Cmd Markdown 在线版本，您还可以前往以下网址下载： Windows/Mac/Linux 全平台客户端 请保留此份 Cmd Markdown 的欢迎稿兼使用说明，如需撰写新稿件，点击顶部工具栏右侧的 新文稿 或者使用快捷键 Ctrl+Alt+N。 什么是 MarkdownMarkdown 是一种方便记忆、书写的纯文本标记语言，用户可以使用这些标记符号以最小的输入代价生成极富表现力的文档：譬如您正在阅读的这份文档。它使用简单的符号标记不同的标题，分割不同的段落，粗体 或者 斜体 某些文字，更棒的是，它还可以 1. 制作一份待办事宜 Todo 列表 支持以 PDF 格式导出文稿 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率 新增 Todo 列表功能 修复 LaTex 公式渲染问题 新增 LaTex 公式编号功能 2. 书写一个质能守恒公式[^LaTeX]$$E=mc^2$$ 3. 高亮一段代码[^code]1234567@requires_authorizationclass SomeClass: passif __name__ == '__main__': # A comment print 'hello world' 4. 高效绘制 流程图12345678st=&gt;start: Startop=&gt;operation: Your Operationcond=&gt;condition: Yes or No?e=&gt;endst-&gt;op-&gt;condcond(yes)-&gt;econd(no)-&gt;op 5. 高效绘制 序列图123Alice-&gt;Bob: Hello Bob, how are you?Note right of Bob: Bob thinksBob--&gt;Alice: I am good thanks! 6. 高效绘制 甘特图12345678910111213title 项目开发流程section 项目确定 需求分析 :a1, 2016-06-22, 3d 可行性报告 :after a1, 5d 概念验证 : 5dsection 项目实施 概要设计 :2016-07-05 , 5d 详细设计 :2016-07-08, 10d 编码 :2016-07-15, 10d 测试 :2016-07-22, 5dsection 发布验收 发布: 2d 验收: 3d 7. 绘制表格 项目 价格 数量 计算机 \$1600 5 手机 \$12 12 管线 \$1 234 8. 更详细语法说明想要查看更详细的语法说明，可以参考我们准备的 Cmd Markdown 简明语法手册，进阶用户可以参考 Cmd Markdown 高阶语法手册 了解更多高级功能。 总而言之，不同于其它 所见即所得 的编辑器：你只需使用键盘专注于书写文本内容，就可以生成印刷级的排版格式，省却在键盘和工具栏之间来回切换，调整内容和格式的麻烦。Markdown 在流畅的书写和印刷级的阅读体验之间找到了平衡。 目前它已经成为世界上最大的技术分享网站 GitHub 和 技术问答网站 StackOverFlow 的御用书写格式。 什么是 Cmd Markdown您可以使用很多工具书写 Markdown，但是 Cmd Markdown 是这个星球上我们已知的、最好的 Markdown 工具——没有之一 ：）因为深信文字的力量，所以我们和你一样，对流畅书写，分享思想和知识，以及阅读体验有极致的追求，我们把对于这些诉求的回应整合在 Cmd Markdown，并且一次，两次，三次，乃至无数次地提升这个工具的体验，最终将它演化成一个 编辑/发布/阅读 Markdown 的在线平台——您可以在任何地方，任何系统/设备上管理这里的文字。 1. 实时同步预览我们将 Cmd Markdown 的主界面一分为二，左边为编辑区，右边为预览区，在编辑区的操作会实时地渲染到预览区方便查看最终的版面效果，并且如果你在其中一个区拖动滚动条，我们有一个巧妙的算法把另一个区的滚动条同步到等价的位置，超酷！ 2. 编辑工具栏也许您还是一个 Markdown 语法的新手，在您完全熟悉它之前，我们在 编辑区 的顶部放置了一个如下图所示的工具栏，您可以使用鼠标在工具栏上调整格式，不过我们仍旧鼓励你使用键盘标记格式，提高书写的流畅度。 3. 编辑模式完全心无旁骛的方式编辑文字：点击 编辑工具栏 最右侧的拉伸按钮或者按下 Ctrl + M，将 Cmd Markdown 切换到独立的编辑模式，这是一个极度简洁的写作环境，所有可能会引起分心的元素都已经被挪除，超清爽！ 4. 实时的云端文稿为了保障数据安全，Cmd Markdown 会将您每一次击键的内容保存至云端，同时在 编辑工具栏 的最右侧提示 已保存 的字样。无需担心浏览器崩溃，机器掉电或者地震，海啸——在编辑的过程中随时关闭浏览器或者机器，下一次回到 Cmd Markdown 的时候继续写作。 5. 离线模式在网络环境不稳定的情况下记录文字一样很安全！在您写作的时候，如果电脑突然失去网络连接，Cmd Markdown 会智能切换至离线模式，将您后续键入的文字保存在本地，直到网络恢复再将他们传送至云端，即使在网络恢复前关闭浏览器或者电脑，一样没有问题，等到下次开启 Cmd Markdown 的时候，她会提醒您将离线保存的文字传送至云端。简而言之，我们尽最大的努力保障您文字的安全。 6. 管理工具栏为了便于管理您的文稿，在 预览区 的顶部放置了如下所示的 管理工具栏： 通过管理工具栏可以： 发布：将当前的文稿生成固定链接，在网络上发布，分享 新建：开始撰写一篇新的文稿 删除：删除当前的文稿 导出：将当前的文稿转化为 Markdown 文本或者 Html 格式，并导出到本地 列表：所有新增和过往的文稿都可以在这里查看、操作 模式：切换 普通/Vim/Emacs 编辑模式 7. 阅读工具栏 通过 预览区 右上角的 阅读工具栏，可以查看当前文稿的目录并增强阅读体验。 工具栏上的五个图标依次为： 目录：快速导航当前文稿的目录结构以跳转到感兴趣的段落 视图：互换左边编辑区和右边预览区的位置 主题：内置了黑白两种模式的主题，试试 黑色主题，超炫！ 阅读：心无旁骛的阅读模式提供超一流的阅读体验 全屏：简洁，简洁，再简洁，一个完全沉浸式的写作和阅读环境 8. 阅读模式在 阅读工具栏 点击 或者按下 Ctrl+Alt+M 随即进入独立的阅读模式界面，我们在版面渲染上的每一个细节：字体，字号，行间距，前背景色都倾注了大量的时间，努力提升阅读的体验和品质。 9. 标签、分类和搜索在编辑区任意行首位置输入以下格式的文字可以标签当前文档： 标签： 未分类 标签以后的文稿在【文件列表】（Ctrl+Alt+F）里会按照标签分类，用户可以同时使用键盘或者鼠标浏览查看，或者在【文件列表】的搜索文本框内搜索标题关键字过滤文稿，如下图所示： 10. 文稿发布和分享在您使用 Cmd Markdown 记录，创作，整理，阅读文稿的同时，我们不仅希望它是一个有力的工具，更希望您的思想和知识通过这个平台，连同优质的阅读体验，将他们分享给有相同志趣的人，进而鼓励更多的人来到这里记录分享他们的思想和知识，尝试点击 (Ctrl+Alt+P) 发布这份文档给好友吧！ 再一次感谢您花费时间阅读这份欢迎稿，点击 (Ctrl+Alt+N) 开始撰写新的文稿吧！祝您在这里记录、阅读、分享愉快！ 作者 @ghosert2016 年 07月 07日 [^LaTeX]: 支持 LaTeX 编辑显示支持，例如：$\sum_{i=1}^n a_i=0$， 访问 MathJax 参考更多使用方法。 [^code]: 代码高亮功能支持包括 Java, Python, JavaScript 在内的，四十一种主流编程语言。]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>Cmd Markdown</tag>
        <tag>作业部落</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[lanxiao-doc]]></title>
    <url>%2F2017%2F08%2F14%2Fdoc%2F</url>
    <content type="text"><![CDATA[约定微信对接API文档 version 1.0 url地址 :http://dev.**.cn/index.php/api/restful/### method :POST 返回格式: json 接口签名算法 POST 方式添加参数 sign， 算法为所有请求参数按照KEY值正向排序后转化json连接加上SECRET(值为!@#\$)连接timestamp之后MD5转换为大写字母之后的值如:POST的参数为 [page=&gt;1,limit=&gt;20,lon=&gt;100，lat=&gt;100,uid=&gt;100] 则TOKEN值的计算方式为 a) 排序ksort所有参数，排序后的结果为 [lat=&gt;100,limit=&gt;20,lon=&gt;100，page=&gt;1,uid=&gt;100]。 b) 按顺序进行拼装，拼装后结果为 json加密数组{“lat”:100,”limit”:20,”lon”:100,”page”:1,”uid”:100} c) 拼接SECRET以及时间戳之后结果为{“lat”:100,”limit”:20,”lon”:100,”page”:1,”uid”:100}!@#$1503905380 d) MD5之后转化为大写之后结果为A130914BD050C341FD8B705FB5E4595C 123456PS:错误返回编码&#123; &quot;code&quot;: 400/403, &quot;data&quot;: &apos;&apos;, &quot;message&quot;: &apos;&apos;&#125; 微信用户开约 wxAddInvitation 请求参数 参数名 是否必传 说明 举例 name Y 约定名字 约定测试 deduct_type Y 迟到扣分方式1,2,3 1 min_person Y 最少人数 2 max_person Y 最多人数 3 place_remark Y 地点备注 2楼203房间 lon Y 经度 104.096931 lat Y 纬度 30.665084 invitation_time Y 约定时间 2017-02-18 14:00:00 point Y 开约分数 10 uid Y 约定发起人UID 183 remark Y 约定描述 大家务必参加哦 gps_remark Y GPS地图地点描述 四川省成都市成华区猛追湾街道景泰景泰(猛追湾街) opentype Y 可见类型(公私):0私有 1公有 0 返回数据格式 字段名 说明 举例 id 自增ID name 约定名字 deduct_type 迟到扣分方式1,2,3 min_person 最少人数 max_person 最多人数 invitepeo_num 邀请人数（后期可作为发出微信约定人数） accept_num 接受约定人数 reject_num 拒绝人数 （无效） place_remark 地点备注 gps_remark GPS地图地点描述 invitation_time 约定时间 sign_start_time 签到开始时间 point 开约分数 createtime 创建时间 uid 约定发起人UID username 约定发起人名字 status 状态： 0待确认 1成功 -1失败/用户删除 -2结束 opentype 可见类型(公私):0私有 1公有 remark 约定描述 deleted 是否删除 lon 经度 lat 纬度 signed_num 签到人数 last_confirm_time 最后参与时间 sncode 约定码 返回样本123456789101112131415161718192021222324252627282930&#123; "data": &#123; "id": "486", "name": "约定测试", "type": "1", "deduct_type": "1", "max_person": "2", "min_person": "1", "invitepeo_num": "0", "accept_num": "0", "reject_num": "0", "place_remark": "2楼203房间", "gps_remark": "四川省成都市成华区猛追湾街道景泰景泰(猛追湾街)", "invitation_time": "2017-02-18 14:00:00", "sign_start_time": "2017-02-18 13:30:00", "point": "10", "createtime": "2017-02-17 23:03:52", "uid": "183", "username": "Elliot", "status": "1", "opentype": "0", "remark": "大家务必参加哦", "deleted": "0", "lon": "104.096931", "lat": "30.665084", "signed_num": "0", "last_confirm_time": "2017-02-17 23:18:52", "sncode": "1487343832514" &#125;&#125; 微信用户删除约定(5 mins之内) wxCancelInvitation 请求参数 参数名 是否必传 说明 举例 id Y 约定ID 486 uid Y 约定所属者ID 183 返回数据格式 字段名 说明 举例 id 自增ID name 约定名字 deduct_type 迟到扣分方式1,2,3 min_person 最少人数 max_person 最多人数 invitepeo_num 邀请人数（后期可作为发出微信约定人数） accept_num 接受约定人数 reject_num 拒绝人数 （无效） place_remark 地点备注 gps_remark GPS地图地点描述 invitation_time 约定时间 sign_start_time 签到开始时间 point 开约分数 createtime 创建时间 uid 约定发起人UID username 约定发起人名字 status 状态： 0待确认 1成功 -1失败/用户删除 -2结束 -1 opentype 可见类型(公私):0私有 1公有 remark 约定描述 deleted 是否删除 lon 经度 lat 纬度 signed_num 签到人数 last_confirm_time 最后参与时间 sncode 约定码 返回样本123456789101112131415161718192021222324252627282930&#123; "data": &#123; "id": "486", "name": "约定测试", "type": "1", "deduct_type": "40", "max_person": "2", "min_person": "1", "invitepeo_num": "0", "accept_num": "0", "reject_num": "0", "place_remark": "2楼203房间", "gps_remark": "四川省成都市成华区猛追湾街道景泰景泰(猛追湾街)", "invitation_time": "2017-02-18 14:00:00", "sign_start_time": "2017-02-18 13:30:00", "point": "10", "createtime": "2017-02-17 23:22:52", "uid": "183", "username": "Elliot", "status": "-1", "opentype": "0", "remark": "大家务必参加哦", "deleted": "0", "lon": "104.096931", "lat": "30.665084", "signed_num": "0", "last_confirm_time": "2017-02-17 23:18:52", "sncode": "1487343832514" &#125;&#125; 微信用户参与约定 wxParticipateInvitation 请求参数 参数名 是否必传 说明 举例 ref_invitationid Y 约定ID 486 uid Y 参与者UID 180 返回数据格式 字段名 说明 举例 id 自增ID name 约定名字 deduct_type 迟到扣分方式1,2,3 min_person 最少人数 max_person 最多人数 invitepeo_num 邀请人数（后期可作为发出微信约定人数） accept_num 接受约定人数 reject_num 拒绝人数 （无效） place_remark 地点备注 gps_remark GPS地图地点描述 invitation_time 约定时间 sign_start_time 签到开始时间 point 开约分数 createtime 创建时间 uid 约定发起人UID username 约定发起人名字 status 状态： 0待确认 1成功 -1失败/用户删除 -2结束 opentype 可见类型(公私):0私有 1公有 remark 约定描述 deleted 是否删除 lon 经度 lat 纬度 signed_num 签到人数 last_confirm_time 最后参与时间 sncode 约定码 返回样本123456789101112131415161718192021222324252627282930&#123; "data": &#123; "id": "486", "name": "约定测试", "type": "1", "deduct_type": "40", "max_person": "2", "min_person": "1", "invitepeo_num": "0", "accept_num": "1", "reject_num": "0", "place_remark": "2楼203房间", "gps_remark": "四川省成都市成华区猛追湾街道景泰景泰(猛追湾街)", "invitation_time": "2017-02-18 14:00:00", "sign_start_time": "2017-02-18 13:30:00", "point": "10", "createtime": "2017-02-17 23:22:52", "uid": "183", "username": "Elliot", "status": "1", "opentype": "0", "remark": "大家务必参加哦", "deleted": "0", "lon": "104.096931", "lat": "30.665084", "signed_num": "0", "last_confirm_time": "2017-02-17 23:18:52", "sncode": "1487343832514" &#125;&#125; 获取用户详细信息 wxGetUser 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 183 返回数据格式 字段名 说明 举例 id 自增ID username 用户名字 passwd 密码MD5 status 状态 1 正常 -1删除 -2禁止登陆 descr 描述 tel 手机号码 email 邮箱号码 sex 姓别 1 男 2女 0未知 createtime 注册时间 disablesendmsg 是否禁言 0正常 1禁言 usertype 用户类型 0 注册用户 1默认用户 provice_sid 省编号 city_sid 市编号 provice_name 省份名字 city_name 市名字 score 积分 scoredebt 欠款 invitationcode 邀请码 picurl 头像 ref_userid 邀请上线UID level 等级 avatar 头像 sysavatarid 系统随机头像ID lastoptime 上次操作时间 platform 设备平台 1 android 2ios 3window 0未知 updatetime 更新时间 device_tokens 设备TOKEN sys_push 系统通知 type 是否内部测试户 0否 1是 lon 经度 lat 纬度 isautobefriend 是否自动成为好友 openid 微信userid headimgurl 微信头像URL access_token 微信登录验证码 loan 贷款负债金额 father_id 父级ID grandfather_id 爷爷ID fathergrandfather_id 祖爷爷ID ontimeRatio 守时率 返回样本1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&#123; "data": &#123; "id": "183", "username": "Elliot", "passwd": "27be9eefb3a01cf06c08c7aa1e573455", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-02-13 21:58:07", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99989992.00", "usernamelock": "0", "invitationcode": "148699428740", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-syUSh3awl7WPKn7dDtOm5Fs", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz2Iraay2Ao3W1XfficVzVoY8srfvH0QDuKYjniaVr6GfYzbFpfUKjr0PTUuZaXmgiaT2kpSbaOILeR9ShMkBch4Oya/0", "access_token": "AlBOsJ6__O07iMv6e6naV1v-XBLiiPjZUS7PR-kISoHEy1aH4HrmieAQVM6ipF3kVzjOfzjkL1rEmjnZa7MPNlbZzI0xVOWFV7In", "loan": "0.00", "father_id": "0", "grandfather_id": "0", "ontimeRatio":12.73, "scoreDebt": -5000, "scoreDebtList": [ &#123; "id": "2", "userid": "1", "createtime": "2017-03-20 23:12:07", "score": "-5000", "status": "0", "type": "10", "ref_id": "1", "addsub": "2", "updatetime": "0000-00-00 00:00:00", "remark": "0", "currentScore": "0" &#125; ] &#125;&#125; 获取约定列表 wxInvitations 请求参数 参数名 是否必传 说明 举例 lon Y 当前登陆用户经度 104.19692 lat Y 当前登陆用户纬度 30.665084 page Y 页码 1 limit Y 每页条数 10 ref_uid N 约定参与者ID 若筛选某个用户相关的所有约定可添加此参数 183 uid Y 当前登陆人ID 183 orderby N 排序规则：距离排序=&gt;distance，邀请人数=&gt;invitepeople distance distance N 公里半径内可见 10 paystatus N 结算状态 1已经结算 -1未结算 返回数据格式 字段名 说明 举例 total 总条数 js_total 未结算条数 fk_total 未付款条数 id 自增ID name 约定名字 type 约定类型 ： 1约定-大家平摊，2宴请 邀约者出分 deduct_type 迟到扣分方式1,2,3 min_person 最少人数 max_person 最多人数 invitepeo_num 邀请人数（后期可作为发出微信约定人数） accept_num 接受约定人数 reject_num 拒绝人数 （无效） place_remark 地点备注 gps_remark GPS地图地点描述 invitation_time 约定时间 sign_start_time 签到开始时间 point 开约分数 createtime 创建时间 uid 约定发起人UID username 约定发起人名字 status 状态： 约定状态 -1已失效 0待达成 1已达成 2待签到 3进行中 4已结束 usestatus 使用状态： 约定状态 1离准时签到 2离最迟签到 3离结束 0未知 countdown 倒计时 remark 约定描述 deleted 是否删除 lon 经度 lat 纬度 signed_num 签到人数 last_confirm_time 最后参与时间 sncode 约定码 is_checked 是否查看过1是，0否 distance 距离此约定地址距离*公里 countdown 离下一状态的倒计时秒 userInfo 发约者个人信息 返回样本123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169&#123; "data": &#123; "total": "2", "js_total": "0", "fk_total": "0", "rows": [ &#123; "id": "486", "name": "约定测试", "type": "1", "deduct_type": "40", "max_person": "2", "min_person": "1", "invitepeo_num": "0", "accept_num": "1", "reject_num": "0", "place_remark": "2楼203房间", "gps_remark": "四川省成都市成华区猛追湾街道景泰景泰(猛追湾街)", "invitation_time": "2017-02-18 14:00:00", "sign_start_time": "2017-02-18 13:30:00", "point": "10", "createtime": "2017-02-17 23:22:52", "uid": "183", "username": "Elliot", "status": "1", "opentype": "0", "remark": "大家务必参加哦", "deleted": "0", "lon": "104.096931", "lat": "30.665084", "signed_num": "0", "last_confirm_time": "2017-02-17 23:18:52", "sncode": "1487343832514", "ref_id": "6", "ref_invitationid": "486", "ref_uid": "183", "ref_username": "Elliot", "ref_status": "1", "ref_createtime": "2017-02-17 23:03:52", "ref_updatetime": "0000-00-00 00:00:00", "ref_sign": "0", "ref_signtime": "0000-00-00 00:00:00", "ref_auto": "0", "ref_checktime": "0000-00-00 00:00:00", "is_checked": -1, "distance": 9.56, "countdown": 48793, "userInfo": &#123; "id": "183", "username": "Elliot", "passwd": "27be9eefb3a01cf06c08c7aa1e573455", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-02-13 21:58:07", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99989992.00", "usernamelock": "0", "invitationcode": "148699428740", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-syUSh3awl7WPKn7dDtOm5Fs", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz2Iraay2Ao3W1XfficVzVoY8srfvH0QDuKYjniaVr6GfYzbFpfUKjr0PTUuZaXmgiaT2kpSbaOILeR9ShMkBch4Oya/0", "access_token": "AlBOsJ6__O07iMv6e6naV1v-XBLiiPjZUS7PR-kISoHEy1aH4HrmieAQVM6ipF3kVzjOfzjkL1rEmjnZa7MPNlbZzI0xVOWFV7In", "loan": "0.00" &#125; &#125;, &#123; "id": "484", "name": "主题啊啊七夕你", "type": "1", "deduct_type": "1", "max_person": "10", "min_person": "2", "invitepeo_num": "0", "accept_num": "1", "reject_num": "0", "place_remark": "备注啊啊", "gps_remark": "约定目的地", "invitation_time": "2017-02-17 14:00:00", "sign_start_time": "2017-02-17 13:30:00", "point": "5000", "createtime": "2017-02-17 12:44:10", "uid": "183", "username": "Elliot", "status": "0", "opentype": "1", "remark": "none", "deleted": "0", "lon": "104.064328", "lat": "30.541748", "signed_num": "0", "last_confirm_time": "2017-02-17 12:59:10", "sncode": "1487306650627", "ref_id": "3", "ref_invitationid": "484", "ref_uid": "183", "ref_username": "Elliot", "ref_status": "1", "ref_createtime": "2017-02-17 12:44:10", "ref_updatetime": "0000-00-00 00:00:00", "ref_sign": "0", "ref_signtime": "0000-00-00 00:00:00", "ref_auto": "0", "ref_checktime": "2017-02-17 22:17:48", "is_checked": 1, "distance": 18.68, "countdown": 0, "userInfo": &#123; "id": "183", "username": "Elliot", "passwd": "27be9eefb3a01cf06c08c7aa1e573455", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-02-13 21:58:07", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99989992.00", "usernamelock": "0", "invitationcode": "148699428740", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-syUSh3awl7WPKn7dDtOm5Fs", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz2Iraay2Ao3W1XfficVzVoY8srfvH0QDuKYjniaVr6GfYzbFpfUKjr0PTUuZaXmgiaT2kpSbaOILeR9ShMkBch4Oya/0", "access_token": "AlBOsJ6__O07iMv6e6naV1v-XBLiiPjZUS7PR-kISoHEy1aH4HrmieAQVM6ipF3kVzjOfzjkL1rEmjnZa7MPNlbZzI0xVOWFV7In", "loan": "0.00" &#125; &#125; ] &#125;&#125; 通过ID获取约定详细信息 wxGetInvitationDetail 请求参数 参数名 是否必传 说明 举例 id N 约定ID lon Y 经度 104.096931 lat Y 纬度 30.665084 uid Y 当前登陆人ID 183 返回数据格式 字段名 说明 举例 id 自增ID name 约定名字 deduct_type 迟到扣分方式1,2,3 min_person 最少人数 max_person 最多人数 invitepeo_num 邀请人数（后期可作为发出微信约定人数） accept_num 接受约定人数 reject_num 拒绝人数 （无效） place_remark 地点备注 gps_remark GPS地图地点描述 invitation_time 约定时间 sign_start_time 签到开始时间 point 开约分数 createtime 创建时间 uid 约定发起人UID username 约定发起人名字 status 状态： 约定状态 -1已失效 0待达成 1已达成 2待签到 3进行中 4已结束 usestatus 使用状态： 约定状态 1离准时签到 2离最迟签到 3离结束 0未知 countdown 倒计时 remark 约定描述 deleted 是否删除 lon 经度 lat 纬度 signed_num 签到人数 last_confirm_time 最后参与时间 sncode 约定码 inventUserList 约定参与者列表 userInfo 约定发起者信息 返回样本123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169&#123; "data": &#123; "id": "486", "name": "约定测试", "deduct_type": "40", "max_person": "2", "min_person": "1", "invitepeo_num": "0", "accept_num": "1", "reject_num": "0", "place_remark": "2楼203房间", "gps_remark": "四川省成都市成华区猛追湾街道景泰景泰(猛追湾街)", "invitation_time": "2017-02-18 14:00:00", "sign_start_time": "2017-02-18 13:30:00", "point": "10", "createtime": "2017-02-17 23:22:52", "uid": "183", "username": "Elliot", "status": "1", "opentype": "0", "remark": "大家务必参加哦", "deleted": "0", "lon": "104.096931", "lat": "30.665084", "signed_num": "0", "last_confirm_time": "2017-02-17 23:18:52", "sncode": "1487343832514", "distance": 11199.36, "countdown": 48168, "inventUserList": [ &#123; "ref_id": "7", "ref_invitationid": "486", "ref_uid": "180", "ref_username": "ash", "ref_status": "1", "ref_createtime": "2017-02-17 23:29:17", "ref_updatetime": "0000-00-00 00:00:00", "ref_sign": "0", "ref_signtime": "0000-00-00 00:00:00", "ref_auto": "0", "ref_checktime": "0000-00-00 00:00:00", "id": "180", "username": "ash", "passwd": "b90f97fbf4828138b97651da56f520ee", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2016-12-30 22:15:47", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99574992.00", "usernamelock": "0", "invitationcode": "148310734726", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "2017-02-13 21:32:17", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-s5VVJfQv0oO0p_Kb9PL5jJ4", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz0ZSYibTEvwTF4qicy8Nu2TDnEHmAl6xDythRfP7ibs22Md9xknJdbicP64heKCkUZdibM6CvWYgd24yRZK2mPLqQyIA/0", "access_token": "KnnzuRUig3va6I8B2ISqhzjaBrl982FqSuA0k1NKPCDCWLwT-jokIDT5c7qayaVI0fBqe7IY56ouNF5a2_Q-atFxgyyKLvjp-PZ8", "loan": "0.00" &#125;, &#123; "ref_id": "6", "ref_invitationid": "486", "ref_uid": "183", "ref_username": "Elliot", "ref_status": "1", "ref_createtime": "2017-02-17 23:03:52", "ref_updatetime": "0000-00-00 00:00:00", "ref_sign": "0", "ref_signtime": "0000-00-00 00:00:00", "ref_auto": "0", "ref_checktime": "0000-00-00 00:00:00", "id": "183", "username": "Elliot", "passwd": "27be9eefb3a01cf06c08c7aa1e573455", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-02-13 21:58:07", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99989992.00", "usernamelock": "0", "invitationcode": "148699428740", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-syUSh3awl7WPKn7dDtOm5Fs", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz2Iraay2Ao3W1XfficVzVoY8srfvH0QDuKYjniaVr6GfYzbFpfUKjr0PTUuZaXmgiaT2kpSbaOILeR9ShMkBch4Oya/0", "access_token": "AlBOsJ6__O07iMv6e6naV1v-XBLiiPjZUS7PR-kISoHEy1aH4HrmieAQVM6ipF3kVzjOfzjkL1rEmjnZa7MPNlbZzI0xVOWFV7In", "loan": "0.00" &#125; ], "userInfo": &#123; "id": "183", "username": "Elliot", "passwd": "27be9eefb3a01cf06c08c7aa1e573455", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-02-13 21:58:07", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99989992.00", "usernamelock": "0", "invitationcode": "148699428740", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-syUSh3awl7WPKn7dDtOm5Fs", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz2Iraay2Ao3W1XfficVzVoY8srfvH0QDuKYjniaVr6GfYzbFpfUKjr0PTUuZaXmgiaT2kpSbaOILeR9ShMkBch4Oya/0", "access_token": "AlBOsJ6__O07iMv6e6naV1v-XBLiiPjZUS7PR-kISoHEy1aH4HrmieAQVM6ipF3kVzjOfzjkL1rEmjnZa7MPNlbZzI0xVOWFV7In", "loan": "0.00" &#125; &#125;&#125; 通过Sncode约定码获取约定列表 wxGetInvitationsBySncode 请求参数 参数名 是否必传 说明 举例 id N 约定ID lon Y 经度 104.096931 lat Y 纬度 30.665084 uid Y 当前登陆人ID 183 sncode Y 约定码 123456 page Y 页码 1 limit Y 每页条数 10 返回数据格式 字段名 说明 举例 id 自增ID name 约定名字 deduct_type 迟到扣分方式1,2,3 min_person 最少人数 max_person 最多人数 invitepeo_num 邀请人数（后期可作为发出微信约定人数） accept_num 接受约定人数 reject_num 拒绝人数 （无效） place_remark 地点备注 gps_remark GPS地图地点描述 invitation_time 约定时间 sign_start_time 签到开始时间 point 开约分数 createtime 创建时间 uid 约定发起人UID username 约定发起人名字 status 状态： 约定状态 -1已失效 0待达成 1已达成 2待签到 3进行中 4已结束 usestatus 使用状态： 约定状态 1离准时签到 2离最迟签到 3离结束 0未知 countdown 倒计时 opentype 可见类型(公私):0私有 1公有 remark 约定描述 deleted 是否删除 lon 经度 lat 纬度 signed_num 签到人数 last_confirm_time 最后参与时间 sncode 约定码 inventUserList 约定参与者列表 userInfo 约定发起者信息 返回样本1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889&#123; "data": &#123; "total": "1", "rows": [ &#123; "id": "3", "name": "主题", "deduct_type": "1", "max_person": "3", "min_person": "2", "invitepeo_num": "0", "accept_num": "1", "ontime_num": "0", "place_remark": "备注", "gps_remark": "成都-宽窄巷子", "invitation_time": "2017-03-21 14:00:00", "sign_start_time": "2017-03-21 13:30:00", "point": "5000", "createtime": "2017-03-21 10:06:20", "uid": "3", "username": "Windows7", "status": "-1", "opentype": "1", "remark": "none", "deleted": "1", "lon": "104.07", "lat": "30.66", "signed_num": "0", "last_confirm_time": "2017-03-21 10:21:20", "sncode": "1490061980374", "paytype": "1", "ref_id": "4", "ref_invitationid": "3", "ref_uid": "3", "ref_username": "Windows7", "ref_status": "1", "ref_createtime": "2017-03-21 10:06:20", "ref_updatetime": "0000-00-00 00:00:00", "ref_sign": "0", "ref_signtime": "0000-00-00 00:00:00", "ref_auto": "0", "ref_checktime": "2017-04-03 14:20:26", "distance": 11138.67, "countdown": 0, "userInfo": &#123; "id": "3", "username": "Windows7", "passwd": "374fb71e6dba0cabe815c0caf7cd7b7a", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-03-21 09:54:05", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "85000.000", "scoredebt": "0.000", "invitationcode": "149006124583", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "3", "updatetime": "2017-07-12 09:15:54", "device_tokens": "", "sys_push": "1", "comment_push": "1", "type": "1", "lon": "", "lat": "", "openid": "-1", "headimgurl": "", "access_token": "none", "loan": "0.00", "father_id": "0", "grandfather_id": "0", "fathergrandfather_id": "2" &#125; &#125; ] &#125;&#125; 获取用户积分历史 wxUserPointlog 请求参数 参数名 是否必传 说明 举例 page Y 页码 1 limit Y 每页条数 10 uid N 用户ID 183 type N 日志类别 10约定 10 ref_id N 关联的实体ID 如果想获取某个约定ID为486的所有日志记录 则ref_id 486 返回数据格式 字段名 说明 举例 total 记录条数 totalScore 总分数 id 自增ID userid 用户ID createtime 创建时间 score 分数变动 status 状态： 0待处理 1领取 ref_id 对应实体ID addsub 1加分 2减分 updatetime 更新时间 type 积分变动原因 1参与约定扣分4迟到签到退回剩余6准时签到退回7准时签到得分8约定未达成退回9约定参与集体缺席退回10购买积分券11下级用户奖励12后付款用户当欠款用户都还款后清算增减分数 返回样本1234567891011121314151617181920&#123; "data": &#123; "total": "1", "totalScore": "100.00", "rows": [ &#123; "id": "5061", "userid": "91", "createtime": "2015-12-24 19:27:00", "score": "100.00", "status": "1", "type": "5", "ref_id": "10", "addsub": "2", "updatetime": "0000-00-00 00:00:00", "remark":1 &#125; ] &#125;&#125; 充值卡列表 wxRechargeCard 请求参数 参数名 是否必传 说明 举例 uid N 用户ID 183 返回数据格式 字段名 说明 举例 id 自增ID name 充值卡名字 status 状态 1 正常 -1删除 createtime 创建时间 score 等价积分 type 可购买次数 0 单次 1多次 price 约定描述 usestatus 是否可以再次兑换 1可以0不可以 返回样本12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&#123; "data": &#123; "rows": [ &#123; "id": "11", "name": "500元兑换充值", "status": "1", "createtime": "2016-01-10 23:55:27", "score": "50000", "type": "1", "price": "0", "usestatus": 1 &#125;, &#123; "id": "10", "name": "100元兑换充值", "status": "1", "createtime": "2016-01-10 23:54:54", "score": "10000", "type": "0", "price": "0", "usestatus": 1 &#125;, &#123; "id": "9", "name": "50元兑换充值", "status": "1", "createtime": "2016-01-10 23:54:32", "score": "5000", "type": "0", "price": "0", "usestatus": 1 &#125;, &#123; "id": "12", "name": "20元兑换充值", "status": "1", "createtime": "2016-01-21 19:52:24", "score": "2000", "type": "1", "price": "0", "usestatus": 1 &#125;, &#123; "id": "7", "name": "5元兑换充值", "status": "1", "createtime": "2016-01-10 23:53:34", "score": "500", "type": "0", "price": "0", "usestatus": 1 &#125;, &#123; "id": "8", "name": "5元兑换充值", "status": "1", "createtime": "2016-01-10 23:53:51", "score": "500", "type": "0", "price": "0", "usestatus": 1 &#125;, &#123; "id": "14", "name": "1元兑换充值", "status": "1", "createtime": "2016-02-18 05:01:02", "score": "100", "type": "1", "price": "0", "usestatus": 1 &#125; ] &#125;&#125; 用户借贷 wxBorrowing 请求参数 参数名 是否必传 说明 举例 uid Y 用户ID 183 loan Y 借贷积分 5000 返回数据格式 字段名 说明 举例 id 自增ID username 用户名字 passwd 密码MD5 status 状态 1 正常 -1删除 -2禁止登陆 descr 描述 tel 手机号码 email 邮箱号码 sex 姓别 1 男 2女 0未知 createtime 注册时间 disablesendmsg 是否禁言 0正常 1禁言 usertype 用户类型 0 注册用户 1默认用户 provice_sid 省编号 city_sid 市编号 provice_name 省份名字 city_name 市名字 score 积分 usernamelock 名字锁定 1锁定(可修改名字) 0未锁定 invitationcode 邀请码 picurl 头像 ref_userid 邀请上线UID level 等级 avatar 头像 sysavatarid 系统随机头像ID lastoptime 上次操作时间 platform 设备平台 1 android 2ios 3window 0未知 updatetime 更新时间 device_tokens 设备TOKEN sys_push 系统通知 type 是否内部测试户 0否 1是 lon 经度 lat 纬度 isautobefriend 是否自动成为好友 openid 微信userid headimgurl 微信头像URL access_token 微信登录验证码 loan 贷款负债金额 返回样本12345678910111213141516171819202122232425262728293031323334353637383940&#123; "data": &#123; "id": "89", "username": "Elliot", "passwd": "8053c0b0c828744fecb356f5770d1c14", "status": "1", "descr": "", "tel": "18382066867", "email": "", "sex": "0", "createtime": "2015-11-14 01:07:31", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "100000000.00", "usernamelock": "1", "invitationcode": "144743445115", "picurl": "", "ref_userid": "97", "level": "1", "avatar": "", "sysavatarid": "22", "lastoptime": "2016-10-06 17:14:16", "platform": "2", "updatetime": "2017-02-13 21:56:33", "device_tokens": "b74c7c110aafb130349cdb25d870aa10335a47ef78163ade475ec2d586054004", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "", "headimgurl": "", "access_token": "", "loan": "5000.00" &#125;&#125; 客户还贷 wxRepayBorrowing 请求参数 参数名 是否必传 说明 举例 uid Y 用户ID 183 loan Y 还贷积分 5000 返回数据格式 字段名 说明 举例 id 自增ID username 用户名字 passwd 密码MD5 status 状态 1 正常 -1删除 -2禁止登陆 descr 描述 tel 手机号码 email 邮箱号码 sex 姓别 1 男 2女 0未知 createtime 注册时间 disablesendmsg 是否禁言 0正常 1禁言 usertype 用户类型 0 注册用户 1默认用户 provice_sid 省编号 city_sid 市编号 provice_name 省份名字 city_name 市名字 score 积分 usernamelock 名字锁定 1锁定(可修改名字) 0未锁定 invitationcode 邀请码 picurl 头像 ref_userid 邀请上线UID level 等级 avatar 头像 sysavatarid 系统随机头像ID lastoptime 上次操作时间 platform 设备平台 1 android 2ios 3window 0未知 updatetime 更新时间 device_tokens 设备TOKEN sys_push 系统通知 type 是否内部测试户 0否 1是 lon 经度 lat 纬度 isautobefriend 是否自动成为好友 openid 微信userid headimgurl 微信头像URL access_token 微信登录验证码 loan 贷款负债金额 返回样本12345678910111213141516171819202122232425262728293031323334353637383940&#123; "data": &#123; "id": "89", "username": "Elliot", "passwd": "8053c0b0c828744fecb356f5770d1c14", "status": "1", "descr": "", "tel": "18382066867", "email": "", "sex": "0", "createtime": "2015-11-14 01:07:31", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "100000000.00", "usernamelock": "1", "invitationcode": "144743445115", "picurl": "", "ref_userid": "97", "level": "1", "avatar": "", "sysavatarid": "22", "lastoptime": "2016-10-06 17:14:16", "platform": "2", "updatetime": "2017-02-13 21:56:33", "device_tokens": "b74c7c110aafb130349cdb25d870aa10335a47ef78163ade475ec2d586054004", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "", "headimgurl": "", "access_token": "", "loan": "5000.00" &#125;&#125; 约定签到 wxInvitationSign 请求参数 参数名 是否必传 说明 举例 invitationid Y 约定ID lon Y 经度 104.096931 lat Y 纬度 30.665084 uid Y 当前登陆人ID 183 返回数据格式 字段名 说明 举例 ref_id 自增ID ref_invitationid 关联的约定ID ref_uid 约定参与者ID ref_username 约定参与者名字 ref_status 是否成约 0待确认 1接受 -1拒绝 -2超时未确认 ref_createtime 关系创建时间 ref_updatetime 关系人签约时间 ref_sign 1已经签到 0 未签到 ref_signtime 签到时间 ref_auto 是否是主动报名1是 0否 发起约定是拉进来的人是0 陌生人主动参与是1 ref_checktime 参与者查看此约定时间 返回样本123456789101112131415&#123; "data": &#123; "ref_id": "72", "ref_invitationid": "31", "ref_uid": "59", "ref_username": "user%o%x.l", "ref_status": "1", "ref_createtime": "2016-12-21 15:46:57", "ref_updatetime": "0000-00-00 00:00:00", "ref_sign": "0", "ref_signtime": "0000-00-00 00:00:00", "ref_auto": "0", "ref_checktime": "0000-00-00 00:00:00" &#125;&#125; 获取约定成员列表及相关此约定的积分变动 wxGetInvitationUserRelations 请求参数 参数名 是否必传 说明 举例 page Y 页码 1 limit Y 每页条数 10 invitation_id Y 约定ID 489 返回数据格式 字段名 说明 举例 ref_id 自增ID ref_invitationid 关联的约定ID ref_uid 约定参与者ID ref_username 约定参与者名字 ref_status 是否成约 0待确认 1接受 -1拒绝 -2超时未确认 ref_createtime 关系创建时间即参与时间 ref_updatetime 记录更新时间 ref_sign 1已经签到 0 未签到 ref_signtime 签到时间 ref_auto 是否是主动报名1是 0否 发起约定是拉进来的人是0 陌生人主动参与是1 ref_checktime 参与者查看此约定时间 income 此约定此用户盈亏值 3.234 paystatus 盈亏状态 1操作完毕 -1未操作完毕 id 自增ID username 用户名字 passwd 密码MD5 status 状态 1 正常 -1删除 -2禁止登陆 descr 描述 tel 手机号码 email 邮箱号码 sex 姓别 1 男 2女 0未知 createtime 注册时间 disablesendmsg 是否禁言 0正常 1禁言 usertype 用户类型 0 注册用户 1默认用户 provice_sid 省编号 city_sid 市编号 provice_name 省份名字 city_name 市名字 score 积分 usernamelock 名字锁定 1锁定(可修改名字) 0未锁定 invitationcode 邀请码 picurl 头像 ref_userid 邀请上线UID level 等级 avatar 头像 sysavatarid 系统随机头像ID lastoptime 上次操作时间 platform 设备平台 1 android 2ios 3window 0未知 updatetime 更新时间 device_tokens 设备TOKEN sys_push 系统通知 type 是否内部测试户 0否 1是 lon 经度 lat 纬度 isautobefriend 是否自动成为好友 openid 微信userid headimgurl 微信头像URL access_token 微信登录验证码 loan 贷款负债金额 scoreLog 积分变动日志 remark 积分变动类型 1添加约定扣分 2删除约定分数退回 3参与约定扣分 4用户借贷扣分 5用户还贷加分 6准时签到退回 7 准时签到得分 8约定超时退回 9约定参与者全部未签到，系统1小时后自动退回 scoreTotal 此人在约定的盈亏值 返回样本123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&#123; "data": &#123; "total": "2", "rows": [ &#123; "ref_id": "12", "ref_invitationid": "489", "ref_uid": "183", "ref_username": "Elliot", "ref_status": "1", "ref_createtime": "2017-02-19 17:53:40", "ref_updatetime": "0000-00-00 00:00:00", "ref_sign": "0", "ref_signtime": "0000-00-00 00:00:00", "ref_auto": "1", "ref_checktime": "0000-00-00 00:00:00", "income": "20", "paystatus": "1", "id": "183", "username": "Elliot", "passwd": "27be9eefb3a01cf06c08c7aa1e573455", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-02-13 21:58:07", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99985784.00", "usernamelock": "0", "invitationcode": "148699428740", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-syUSh3awl7WPKn7dDtOm5Fs", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz2Iraay2Ao3W1XfficVzVoY8srfvH0QDuKYjniaVr6GfYzbFpfUKjr0PTUuZaXmgiaT2kpSbaOILeR9ShMkBch4Oya/0", "access_token": "AlBOsJ6__O07iMv6e6naV1v-XBLiiPjZUS7PR-kISoHEy1aH4HrmieAQVM6ipF3kVzjOfzjkL1rEmjnZa7MPNlbZzI0xVOWFV7In", "loan": "0.00", "scoreLog": [ &#123; "id": "117265", "userid": "183", "createtime": "2017-02-19 17:53:41", "score": "-4211.00", "status": "1", "type": "10", "ref_id": "489", "addsub": "2", "remark":"1", "updatetime": "0000-00-00 00:00:00" &#125; ] &#125; ] &#125;&#125; 发起约定评论 wxAddInvitationComment 请求参数 参数名 是否必传 说明 举例 content Y 评论内容 invitation_id Y 约定ID 489 uid Y 当前登陆人ID 183 返回数据格式 字段名 说明 举例 id 自增ID ref_id 关联的约定ID content 约定参与者ID status 状态 1正常 -1删除 -2被屏蔽 createtime 创建时间 uid 评论者ID username 评论者名字 usersysavatarid 评论者头像ID 返回样本123456789101112&#123; "data": &#123; "id": "4", "ref_id": "489", "content": "哈哈哈", "status": "1", "createtime": "2017-02-20 22:50:59", "uid": "183", "username": "Elliot", "usersysavatarid": "0" &#125;&#125; 获取约定评论列表 wxGetInvitationComments 请求参数 参数名 是否必传 说明 举例 invitation_id Y 约定ID 489 page Y 页码 1 limit Y 每页条数 20 返回数据格式 字段名 说明 举例 id 自增ID ref_id 关联的约定ID content 约定参与者ID status 状态 1正常 -1删除 -2被屏蔽 createtime 创建时间 uid 评论者ID username 评论者名字 usersysavatarid 评论者头像ID userInfo 评论者信息 floornum 评论楼层数 返回样本12345678910111213141516171819&#123; "data": &#123; "total": "1", "rows": [ &#123; "id": "4", "ref_id": "489", "content": "哈哈哈", "status": "1", "createtime": "2017-02-20 22:50:59", "uid": "183", "username": "Elliot", "usersysavatarid": "0", "userInfo":"", "floornum": 1 &#125; ] &#125;&#125; 获取APP版本 wxVersion 请求参数 参数名 是否必传 说明 举例 uid Y 参与者UID 180 返回数据格式 字段名 说明 举例 version 版本 url 下载地址 返回样本123456&#123; "data": &#123; "version": "return 120;", "url": "http://dev.****.cn\\1464535023.zip" &#125;&#125; 更新设备TOKEN wxDevicetokens 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 183 device_tokens Y 设备TOKEN AujDRWFmsqsRFWPVS9HKZpP_b1kZw0CFxCV34of9K9XJ 返回数据格式 字段名 说明 举例 id 自增ID username 用户名字 passwd 密码MD5 status 状态 1 正常 -1删除 -2禁止登陆 descr 描述 tel 手机号码 email 邮箱号码 sex 姓别 1 男 2女 0未知 createtime 注册时间 disablesendmsg 是否禁言 0正常 1禁言 usertype 用户类型 0 注册用户 1默认用户 provice_sid 省编号 city_sid 市编号 provice_name 省份名字 city_name 市名字 score 积分 usernamelock 名字锁定 1锁定(可修改名字) 0未锁定 invitationcode 邀请码 picurl 头像 ref_userid 邀请上线UID level 等级 avatar 头像 sysavatarid 系统随机头像ID lastoptime 上次操作时间 platform 设备平台 1 android 2ios 3window 0未知 updatetime 更新时间 device_tokens 设备TOKEN sys_push 系统通知 type 是否内部测试户 0否 1是 lon 经度 lat 纬度 isautobefriend 是否自动成为好友 openid 微信userid headimgurl 微信头像URL access_token 微信登录验证码 loan 贷款负债金额 返回样本12345678910111213141516171819202122232425262728293031323334353637383940&#123; "data": &#123; "id": "183", "username": "Elliot", "passwd": "27be9eefb3a01cf06c08c7aa1e573455", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-02-13 21:58:07", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99989992.00", "usernamelock": "0", "invitationcode": "148699428740", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-syUSh3awl7WPKn7dDtOm5Fs", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz2Iraay2Ao3W1XfficVzVoY8srfvH0QDuKYjniaVr6GfYzbFpfUKjr0PTUuZaXmgiaT2kpSbaOILeR9ShMkBch4Oya/0", "access_token": "AlBOsJ6__O07iMv6e6naV1v-XBLiiPjZUS7PR-kISoHEy1aH4HrmieAQVM6ipF3kVzjOfzjkL1rEmjnZa7MPNlbZzI0xVOWFV7In", "loan": "0.00" &#125;&#125; 切换PUSH开关 wxPushSwitch 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 183 sys_push Y 系统通知 1 返回数据格式 字段名 说明 举例 id 自增ID username 用户名字 passwd 密码MD5 status 状态 1 正常 -1删除 -2禁止登陆 descr 描述 tel 手机号码 email 邮箱号码 sex 姓别 1 男 2女 0未知 createtime 注册时间 disablesendmsg 是否禁言 0正常 1禁言 usertype 用户类型 0 注册用户 1默认用户 provice_sid 省编号 city_sid 市编号 provice_name 省份名字 city_name 市名字 score 积分 usernamelock 名字锁定 1锁定(可修改名字) 0未锁定 invitationcode 邀请码 picurl 头像 ref_userid 邀请上线UID level 等级 avatar 头像 sysavatarid 系统随机头像ID lastoptime 上次操作时间 platform 设备平台 1 android 2ios 3window 0未知 updatetime 更新时间 device_tokens 设备TOKEN sys_push 系统通知 type 是否内部测试户 0否 1是 lon 经度 lat 纬度 isautobefriend 是否自动成为好友 openid 微信userid headimgurl 微信头像URL access_token 微信登录验证码 loan 贷款负债金额 返回样本12345678910111213141516171819202122232425262728293031323334353637383940&#123; "data": &#123; "id": "183", "username": "Elliot", "passwd": "27be9eefb3a01cf06c08c7aa1e573455", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-02-13 21:58:07", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99989992.00", "usernamelock": "0", "invitationcode": "148699428740", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-syUSh3awl7WPKn7dDtOm5Fs", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz2Iraay2Ao3W1XfficVzVoY8srfvH0QDuKYjniaVr6GfYzbFpfUKjr0PTUuZaXmgiaT2kpSbaOILeR9ShMkBch4Oya/0", "access_token": "AlBOsJ6__O07iMv6e6naV1v-XBLiiPjZUS7PR-kISoHEy1aH4HrmieAQVM6ipF3kVzjOfzjkL1rEmjnZa7MPNlbZzI0xVOWFV7In", "loan": "0.00" &#125;&#125; APP用户维持登录状态 wxMaintainStatus 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 183 返回数据格式 字段名 说明 举例 返回样本12345&#123; "data": &#123; "affected": "1" &#125;&#125; 创建本地订单 wxCreateOrder 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 183 ticketid Y 商品ID 1 num Y 用户UID 1 返回数据格式 字段名 说明 举例 id Y 自增ID 183 uid Y UID 1 username Y 用户名字 createtime Y 创建时间 status Y 状态 ticketid Y 商品ID num Y 数量 updatetime Y 更新时间 price Y 价格 ordersn Y 订单号码 prepayid Y 预付单号码 paytime Y 支付时间 paychannel Y 支付渠道 1 微信 2支付宝 返回样本1234567891011121314151617&#123; "data": &#123; "id": "112", "uid": "2", "username": "修改后名字", "createtime": "2017-07-11 13:44:35", "status": "0", "ticketid": "1", "num": "1", "updatetime": "0000-00-00 00:00:00", "price": "100", "ordersn": "599CE0C0F6ED4911A148", "prepayid": "", "paytime": null, "paychannel": "0" &#125;&#125; 微信通过订单ordersn生成预付单 wxPayPrepayid 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 183 ordersn Y 订单号 81BC1A220EF14C40B454 返回数据格式 字段名 说明 举例 errorCode 识别码 183 errorMsg 错误信息 1 responseData 返回信息主体 返回样本12345678910111213141516171819&#123; "data": &#123; "errorCode": 0, "errorMsg": "success", "responseData": &#123; "notify_url": "http://www.lanxiao.com/index.php/api/restful/wxOrderNotify", "app_response": &#123; "appid": "wx426b3015555a46be", "noncestr": "mFR2iNSEvFzZGCp94voInFXNOV5Y7Eel", "package": "Sign=WXPay", "partnerid": "1900009851", "prepayid": "wx2017071114145319a1f965550432316187", "timestamp": 1499753649, "sign": "847A9DE4F32000402C3686EA73E97CC4", "packagestr": "Sign=WXPay" &#125; &#125; &#125;&#125; 计算手续费 wxCalcPoundage 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 5 principal Y 欲提现金额 2 返回数据格式 字段名 说明 举例 poundage 手续费 principal 欲提现本金 maxprincipal 最多可提现本金 score 用户当前钱包金额 返回样本12345678&#123; "data": &#123; "principal": "100", "poundage": 1, "maxprincipal": 100, "score": "101.000" &#125;&#125; 发起提现申请 wxApplyExchange 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 5 principal Y 提取本金（实际可以到账） 2 poundage Y 手续费分数 2 返回数据格式 字段名 说明 举例 id 自增ID 3 userid 用户ID 5 username 用户名字 中文 createtime 申请创建时间 2017-12-06 14:30:36 status 状态 -1 删除 0待审核 1审核通过 2兑换成功 poundage 手续费 updatetime 更新时间 cardtype 提现到卡类型 1 微信零钱 payment_time 兑换成功时间 提现成功后写入 payment_no 外部付款订单号 微信订单号 提现成功后写入 返回样本123456789101112131415&#123; "data": &#123; "id": "3", "userid": "5", "username": "中文", "createtime": "2017-12-06 14:30:36", "status": "0", "point": "10000", "poundage": "5", "updatetime": "0000-00-00 00:00:00", "cardtype": "1", "payment_time": null, "payment_no": null &#125;&#125; 获取QA列表 wxQa 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 5 page Y 页码 2 limit Y 条数 2 返回数据格式 字段名 说明 举例 total 总条数 3 id 自增ID 3 content 内容 1111 status 状态 1 正常 -1删除 createtime 创建时间 2017-12-06 14:30:36 title 标题 标题标题 返回样本123456789101112131415161718192021&#123; "data": &#123; "total": "7", "rows": [ &#123; "id": "24", "content": "您发现感兴趣帖子时，在帖子右上角选择“收藏”后，以后您随时进入“我的收藏”都能看到帖子的最新动态", "status": "1", "createtime": "2016-02-02 03:37:39", "title": "收藏功能" &#125;, &#123; "id": "23", "content": "当您看见有内容，或者图片涉及反动、暴力、淫秽、广告等有害不良信息时，点击右上角进行举报，我们将尽快核实处理", "status": "1", "createtime": "2016-02-02 03:28:48", "title": "举报" &#125; ] &#125;&#125; 分页获取广播公告列表 wxQa 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 5 page Y 页码 2 limit Y 条数 2 返回数据格式 字段名 说明 举例 total 总条数 3 id 自增ID 3 content 内容 1111 status 状态 1 正常 -1删除 createtime 创建时间 2017-12-06 14:30:36 fromdate 开始时间 2016-01-11 00:00:00 enddate 结束时间 2016-01-12 00:00:00 返回样本1234567891011121314151617181920212223&#123; "data": &#123; "total": "9", "rows": [ &#123; "id": "16", "content": "我来试一下", "status": "1", "createtime": "2016-01-11 00:06:02", "fromdate": "2016-01-11 00:00:00", "enddate": "2016-01-12 00:00:00" &#125;, &#123; "id": "15", "content": "测试", "status": "1", "createtime": "2016-01-04 19:04:53", "fromdate": "2016-01-04 00:00:00", "enddate": "2016-02-01 00:00:00" &#125; ] &#125;&#125; 提现申请列表 wxApplyExchangeList 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 5 page Y 页码 1 limit Y 每页条数 2 status N 状态 ‘-1 删除 0待审核 1审核通过 2兑换成功’ 2 返回数据格式 字段名 说明 举例 id 自增ID 3 userid 用户ID 5 username 用户名字 中文 createtime 申请创建时间 2017-12-06 14:30:36 status 状态 -1 删除 0待审核 1审核通过 2兑换成功 point 欲兑换的积分数 poundage 手续费 updatetime 更新时间 cardtype 提现到卡类型 1 微信零钱 payment_time 兑换成功时间 提现成功后写入 payment_no 外部付款订单号 微信订单号 提现成功后写入 返回样本12345678910111213141516171819202122232425262728293031323334353637383940414243444546&#123; "data": &#123; "total": "3", "rows": [ &#123; "id": "3", "userid": "5", "username": "中文", "createtime": "2017-12-06 14:30:36", "status": "0", "point": "2", "updatetime": "0000-00-00 00:00:00", "cardtype": "0", "payment_time": "0000-00-00 00:00:00", "payment_no": "", "poundage": "0" &#125;, &#123; "id": "2", "userid": "5", "username": "中文", "createtime": "2017-12-06 14:26:42", "status": "0", "point": "2", "updatetime": "0000-00-00 00:00:00", "cardtype": "0", "payment_time": "0000-00-00 00:00:00", "payment_no": "", "poundage": "0" &#125;, &#123; "id": "1", "userid": "5", "username": "elliot", "createtime": "2015-07-16 21:39:08", "status": "2", "point": "100", "updatetime": "2017-10-26 22:39:46", "cardtype": "0", "payment_time": "2017-10-26 22:39:55", "payment_no": "1000018301201710260868339757", "poundage": "0" &#125; ] &#125;&#125; 分页获取推广用户列表 wxExtensionUsers 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 11 page Y 用户UID 1 limit Y 用户UID 10 depth_type Y 深度类型1儿子2孙子3从孙 1 返回数据格式 字段名 说明 举例 id 自增ID username 用户名字 passwd 密码MD5 status 状态 1 正常 -1删除 -2禁止登陆 descr 描述 tel 手机号码 email 邮箱号码 sex 姓别 1 男 2女 0未知 createtime 注册时间 disablesendmsg 是否禁言 0正常 1禁言 usertype 用户类型 0 注册用户 1默认用户 provice_sid 省编号 city_sid 市编号 provice_name 省份名字 city_name 市名字 score 积分 scoredebt 欠款 usernamelock 名字锁定 1锁定(可修改名字) 0未锁定 invitationcode 邀请码 picurl 头像 ref_userid 邀请上线UID level 等级 avatar 头像 sysavatarid 系统随机头像ID lastoptime 上次操作时间 platform 设备平台 1 android 2ios 3window 0未知 updatetime 更新时间 device_tokens 设备TOKEN sys_push 系统通知 type 是否内部测试户 0否 1是 lon 经度 lat 纬度 isautobefriend 是否自动成为好友 openid 微信userid headimgurl 微信头像URL access_token 微信登录验证码 loan 贷款负债金额 father_id 父级ID grandfather_id 爷爷ID fathergrandfather_id 祖爷爷ID scoreIncome 此节点用户贡献给此用户的金额 extensionUsersScore 累计推广奖励 返回样本123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&#123; "data": &#123; "rows": [ &#123; "id": "1", "username": "ry?", "passwd": "4963c46283885f2c70af0d34e992a4ee", "status": "1", "descr": "", "tel": "18382066867", "email": "", "sex": "0", "createtime": "2017-03-20 22:53:42", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "115930.000", "scoredebt": "-42.000", "usernamelock": "0", "invitationcode": "149002162246", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "2017-07-11 12:55:34", "platform": "2", "updatetime": "2017-07-13 20:59:26", "device_tokens": "1f0f922f85b35a12d01f7e0d2cbe0bc91bb85b3900b1d9f468a81a438a74ac51", "sys_push": "1", "type": "1", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-szAYg0qaTzylWEU573OY8Q8", "headimgurl": "http://wx.qlogo.cn/mmopen/yP1hZiaESodpM3FghG2ZGJ6g3gufRcvCibTFiaL2ZL8MlKlc4gCBGHfkN2l2Rnk60zYfx7YjJrtDbpmSaBwKuvBty8OOOFRhMaD/0", "access_token": "Qzi8qtYvoLlC7nzKsno80w3t8xUuJqo6wAHo5hAinGv8KG6AvWYp4KBrQo9QsXuz2vV_s1Nr2uBxnkAYtgg5HPHcn9L2P3oAyqqh", "loan": "10000.00", "father_id": "2", "grandfather_id": "0", "fathergrandfather_id": "0", "scoreIncome":123.000 &#125; ], "total": "1", "extensionUsersScore": "500.000" &#125;&#125; 用户绑定手机号码发送短信 wxUserBindTelSendSms 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 11 tel Y 手机号码 18888888888 返回数据格式 字段名 说明 举例 verifyCode 验证码 9395 返回样本12345&#123; "data": &#123; "verifyCode": "9395" &#125;&#125; 用户绑定手机号码 wxUserBindTel 请求参数 参数名 是否必传 说明 举例 uid Y 用户UID 11 tel Y 手机号码 18888888888 verify_code Y 验证码 9395 返回数据格式 字段名 说明 举例 id 自增ID username 用户名字 passwd 密码MD5 status 状态 1 正常 -1删除 -2禁止登陆 descr 描述 tel 手机号码 email 邮箱号码 sex 姓别 1 男 2女 0未知 createtime 注册时间 disablesendmsg 是否禁言 0正常 1禁言 usertype 用户类型 0 注册用户 1默认用户 provice_sid 省编号 city_sid 市编号 provice_name 省份名字 city_name 市名字 score 积分 scoredebt 欠款 usernamelock 名字锁定 1锁定(可修改名字) 0未锁定 invitationcode 邀请码 picurl 头像 ref_userid 邀请上线UID level 等级 avatar 头像 sysavatarid 系统随机头像ID lastoptime 上次操作时间 platform 设备平台 1 android 2ios 3window 0未知 updatetime 更新时间 device_tokens 设备TOKEN sys_push 系统通知 type 是否内部测试户 0否 1是 lon 经度 lat 纬度 isautobefriend 是否自动成为好友 openid 微信userid headimgurl 微信头像URL access_token 微信登录验证码 loan 贷款负债金额 father_id 父级ID grandfather_id 爷爷ID fathergrandfather_id 祖爷爷ID 返回样本1234567891011121314151617181920212223242526272829303132333435363738394041424344&#123; "data": &#123; "id": "1", "username": "ry?", "passwd": "4963c46283885f2c70af0d34e992a4ee", "status": "1", "descr": "", "tel": "18382066867", "email": "", "sex": "0", "createtime": "2017-03-20 22:53:42", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "115930.000", "scoredebt": "-42.000", "usernamelock": "0", "invitationcode": "149002162246", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "2017-07-11 12:55:34", "platform": "2", "updatetime": "2017-07-13 20:59:26", "device_tokens": "1f0f922f85b35a12d01f7e0d2cbe0bc91bb85b3900b1d9f468a81a438a74ac51", "sys_push": "1", "type": "1", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-szAYg0qaTzylWEU573OY8Q8", "headimgurl": "http://wx.qlogo.cn/mmopen/yP1hZiaESodpM3FghG2ZGJ6g3gufRcvCibTFiaL2ZL8MlKlc4gCBGHfkN2l2Rnk60zYfx7YjJrtDbpmSaBwKuvBty8OOOFRhMaD/0", "access_token": "Qzi8qtYvoLlC7nzKsno80w3t8xUuJqo6wAHo5hAinGv8KG6AvWYp4KBrQo9QsXuz2vV_s1Nr2uBxnkAYtgg5HPHcn9L2P3oAyqqh", "loan": "10000.00", "father_id": "2", "grandfather_id": "0", "fathergrandfather_id": "0" &#125;&#125; 获取后台配置参数 wxSetting 请求参数 参数名 是否必传 说明 举例 id Y ID识别码 1分享话术 返回数据格式 字段名 说明 举例 id 版本 name 名字 desc 设置值 status 状态 1正常 -1删除 createtime 创建时间 返回样本123456789&#123; "data": &#123; "id": "1", "name": "分享话术", "desc": "分享话术描述", "status": "1", "createtime": "2017-12-21 08:14:15" &#125;&#125; 约定欠款还款 wxInvitationRepayment 请求参数 参数名 是否必传 说明 举例 invitation_id Y 约定ID 1 uid Y 还款人ID 1 score Y 还款金额 1 返回数据格式 字段名 说明 举例 id 自增ID username 用户名字 passwd 密码MD5 status 状态 1 正常 -1删除 -2禁止登陆 descr 描述 tel 手机号码 email 邮箱号码 sex 姓别 1 男 2女 0未知 createtime 注册时间 disablesendmsg 是否禁言 0正常 1禁言 usertype 用户类型 0 注册用户 1默认用户 provice_sid 省编号 city_sid 市编号 provice_name 省份名字 city_name 市名字 score 积分 scoredebt 欠款 usernamelock 名字锁定 1锁定(可修改名字) 0未锁定 invitationcode 邀请码 picurl 头像 ref_userid 邀请上线UID level 等级 avatar 头像 sysavatarid 系统随机头像ID lastoptime 上次操作时间 platform 设备平台 1 android 2ios 3window 0未知 updatetime 更新时间 device_tokens 设备TOKEN sys_push 系统通知 type 是否内部测试户 0否 1是 lon 经度 lat 纬度 isautobefriend 是否自动成为好友 openid 微信userid headimgurl 微信头像URL access_token 微信登录验证码 loan 贷款负债金额 father_id 父级ID grandfather_id 爷爷ID fathergrandfather_id 祖爷爷ID 返回样本12345678910111213141516171819202122232425262728293031323334353637383940&#123; "data": &#123; "id": "183", "username": "Elliot", "passwd": "27be9eefb3a01cf06c08c7aa1e573455", "status": "1", "descr": "", "tel": "", "email": "", "sex": "0", "createtime": "2017-02-13 21:58:07", "disablesendmsg": "0", "usertype": "0", "provice_sid": "001001", "city_sid": "001001005", "provice_name": "北京", "city_name": "朝阳", "score": "99989992.00", "usernamelock": "0", "invitationcode": "148699428740", "picurl": "", "ref_userid": "0", "level": "1", "avatar": "", "sysavatarid": "0", "lastoptime": "0000-00-00 00:00:00", "platform": "0", "updatetime": "0000-00-00 00:00:00", "device_tokens": "", "sys_push": "1", "type": "0", "lon": "", "lat": "", "isautobefriend": "1", "openid": "o1VH-syUSh3awl7WPKn7dDtOm5Fs", "headimgurl": "http://wx.qlogo.cn/mmopen/Em4Nhwl7Wz2Iraay2Ao3W1XfficVzVoY8srfvH0QDuKYjniaVr6GfYzbFpfUKjr0PTUuZaXmgiaT2kpSbaOILeR9ShMkBch4Oya/0", "access_token": "AlBOsJ6__O07iMv6e6naV1v-XBLiiPjZUS7PR-kISoHEy1aH4HrmieAQVM6ipF3kVzjOfzjkL1rEmjnZa7MPNlbZzI0xVOWFV7In", "loan": "0.00" &#125;&#125; 约定抽奖 wxInvitationLottery 请求参数 参数名 是否必传 说明 举例 invitation_id Y 约定ID 1 uid Y 用户ID 12 返回数据格式 字段名 说明 举例 yes 抽中的奖项 1235代表1%2%3%5% no 未抽中的奖项 lottery_times 今天的已抽奖次数 返回样本12345678910111213141516171819&#123; "data": &#123; "lottery": &#123; "yes": &#123; "8": "谢谢参与" &#125;, "no": &#123; "1": "1", "2": "2", "3": "3", "4": "5", "5": "5元", "6": "10元", "7": "20元" &#125; &#125;, "lottery_times": "2" &#125;&#125; Author [@elliot]2017 年 05月 10日]]></content>
      <categories>
        <category>Doc</category>
      </categories>
      <tags>
        <tag>lanxiao</tag>
      </tags>
  </entry>
</search>
